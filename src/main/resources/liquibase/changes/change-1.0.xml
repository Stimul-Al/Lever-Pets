<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                           http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet id="1.0.0" author="Aliaksei Babashau">
        <sql>
            create table persons
            (
            id bigint auto_increment
            primary key,
            email varchar(255) null,
            name varchar(255) null,
            password varchar(255) null
            );
        </sql>

        <sql>
            create table animals
            (
            id bigint auto_increment
            primary key,
            name varchar(255) null,
            type_animal varchar(255) null,
            person_id bigint null,
            constraint FK6qj68n7qaqt6vgllg14hlu37o
            foreign key (person_id) references persons (id)
            );
        </sql>

        <sql>
            create table deals
            (
            id bigint auto_increment
            primary key,
            deal_date datetime(6) null,
            first_animal_id bigint null,
            second_animal_id bigint null,
            constraint FK1lnxxsrd7bd4l5ehlw3o8y4ub
            foreign key (second_animal_id) references animals (id),
            constraint FKi3k8hro5dcbb7j2cmmf9feoi0
            foreign key (first_animal_id) references animals (id)
            );
        </sql>

        <sql>
            create table animals_deals
            (
            animal_id bigint not null,
            deals_id bigint not null,
            constraint UK_6a26g74c1pyt72q57ox9agv3r
            unique (deals_id),
            constraint FK93nubrd926ppsu3pb3a6syktu
            foreign key (animal_id) references animals (id),
            constraint FKlg4lhjuordxi3i4o9uj2i1k7j
            foreign key (deals_id) references deals (id)
            );
        </sql>
    </changeSet>

</databaseChangeLog>
